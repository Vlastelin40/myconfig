  attributes_template: |
    {% if attr in ('zigbee', 'ble', 'mesh') %}
    {{{
      "name": device.info.name,
      "device_fw_ver": device.fw_ver,
      "device_model": device.model,
      "device_market_model": device.info.model,
      "device_manufacturer": device.info.manufacturer,
      "integration": "gw3",
      "gate": gateway.info.name,
      "gateway_model": gateway.info.model,
      "gateway_fw_ver": gateway.fw_ver
    }}}
    {% elif attr == 'gateway' %}
    {{{
      "integration": "gw3",
      "gate": gateway.info.name,
      "gateway_model": gateway.info.model,
      "gateway_fw_ver": gateway.fw_ver
    }}}
    {% elif attr == 'battery' %}
    {{{
      "name": device.info.name,
      "gate": gateway.info.name,
      "integration": "gw3",
      "battery": "true"
    }}}
    {% endif %}

  logger:
    filename: xiaomi_gateway3.log  # default empty
    propagate: False  # if False - disable log to home-assistant.log and console, default True
    max_bytes: 104857600 # file size, default 0
    backup_count: 9  # file rotation count, default 0
    debug_mode: true,miio,mqtt  # global modes for all gateways, default empty
    level: debug  # default
    mode: a  # a - append to file, w - write new file, default
    format: "%(asctime)s %(message)s"  # default