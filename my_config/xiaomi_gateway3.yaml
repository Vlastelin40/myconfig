
#   attributes_template: |
#     {% if attr in ('ble', 'zigbee') %}
#     {{{
#       "name": device["device_name"],
#       "gate": gateway["device_name"],
#       "fw_version": device["fw_ver"],
#       "integration": "gw3",
#       "device_fw_ver": device.fw_ver,
#       "device_model": device.model
#     }}}
#     {% elif attr == 'battery' %}
#     {{{
#       "name": device["device_name"],
#       "gate": gateway["device_name"],
#       "integration": "gw3",
#       "battery": "true"
#     }}}
#     {% endif %}

# xiaomi_gateway3:
  attributes_template: |
    {% if attr in ('zigbee', 'ble', 'mesh') %}
    {{{
      "name": device.info.name,
      "device_fw_ver": device.fw_ver,
      "device_model": device.model,
      "device_market_model": device.info.model,
      "gate": gateway.info.name,
      "integration": "gw3",
      "gateway_fw_ver": gateway.fw_ver
    }}}
    {% elif attr == 'gateway' %}
    {{{
      "device_fw_ver": device.fw_ver,
    }}}
    {% elif attr == 'battery' %}
    {{{
      "name": device.info.name,
      "gate": gateway.info.name,
      "integration": "gw3",
      "battery": "true"
    }}}
    {% endif %}

  logger:
    filename: xiaomi_gateway3.log  # default empty
    propagate: False  # if False - disable log to home-assistant.log and console, default True
    max_bytes: 104857600 # file size, default 0
    backup_count: 2  # file rotation count, default 0
    debug_mode: true,miio,mqtt  # global modes for all gateways, default empty
    level: debug  # default
    mode: a  # a - append to file, w - write new file, default
    format: "%(asctime)s %(message)s"  # default
    
# {% elif attr == 'voltage' %}{{{
#   "name": device["device_name"],
#   "gate": gateway["device_name"],
#   "integration": "gw3",
#   "voltage": "true"
# }}}    


  #zigbee_info: msg_received
  #zigbee_console:
  #debug: mqtt
  #debug: true
  # devices:
  #   '0x158d000236bc6d':
  #     occupancy_timeout: 10
  #   '0x158d0001e05856':
  #     occupancy_timeout: 10
  #   '0x158d0002b482e9':
  #     occupancy_timeout: 90
  #   '0x158d0001d5995e':
  #     occupancy_timeout: 10
  #   '0x158d0001ae9f61':
  #     occupancy_timeout: 10
  #   '0x158d0002b4729d':
  #     occupancy_timeout: 90
  #   '0x158d0002b48381':
  #     occupancy_timeout: 10
  #   '0x158d0001e53cda':
  #     occupancy_timeout: 90
  #   '0x158d000224f89f':
  #     occupancy_timeout: 10
  #   '0x158d0003140824':
  #     occupancy_timeout: 90
  #   '0x158d0001aea602':
  #     occupancy_timeout: 10
  #   '0x158d0001e54280':
  #     occupancy_timeout: 10
  #   '0x158d000236bb94':
  #     occupancy_timeout: 10
  #   '0x158d0002b43ad4':
  #     occupancy_timeout: 10