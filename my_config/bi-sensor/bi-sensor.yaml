  #- platform: random

  - platform: command_line
    name: Workday
    command: >-
      curl https://isdayoff.ru/{{ now().date().strftime("%Y%m%d") }}
    scan_interval: 600
    payload_on: '0'
    payload_off: '1'

  - platform: command_line
    name: Workday Tomorrow
    command: >-
      curl https://isdayoff.ru/{{ (now().date() + timedelta(days=1)).strftime("%Y%m%d") }}
    scan_interval: 600
    payload_on: '0'
    payload_off: '1'

  - platform: trend
    sensors:
      bathroom_humidity_rising:
        entity_id: sensor.0x158d00020d7c3a_humidity
        friendly_name: Humidity B Rising
        sample_duration: 7200
        min_gradient: 0.02
      bathroom_humidity_falling:
        entity_id: sensor.0x158d00020d7c3a_humidity
        friendly_name: Humidity B Falling
        sample_duration: 7200
        min_gradient: -0.01
      
      pressure_rising_fast:
        entity_id: sensor.pressure_average
        friendly_name: Pressure Rising Fast
        sample_duration: 3600
        max_samples: 10
        min_gradient: 0.00027777777778
      pressure_rising_slow:
        entity_id: sensor.pressure_average
        friendly_name: Pressure Rising Slow
        sample_duration: 3600
        max_samples: 10
        min_gradient: 0.00013888888889
      pressure_falling_fast:
        entity_id: sensor.pressure_average
        friendly_name: Pressure Falling Fast
        sample_duration: 3600
        max_samples: 10
        min_gradient: -0.00027777777778
      pressure_falling_slow:
        entity_id: sensor.pressure_average
        friendly_name: Pressure Falling Slow
        sample_duration: 3600
        max_samples: 10
        min_gradient: -0.00013888888889
      
      temp_falling:
        entity_id: sensor.esp32_node_mb_outside #sensor.0x158d000239ad5b_temperature #sensor.0x158d0001e8995a_temperature
        sample_duration: 7200
        min_gradient: -0.0008
        max_samples: 10
        device_class: cold

      temp_rising:
        entity_id: sensor.esp32_node_mb_outside #sensor.0x158d000239ad5b_temperature #sensor.0x158d0001e8995a_temperature
        sample_duration: 7200
        min_gradient: 0.0008
        max_samples: 10
        device_class: heat

  - platform: mqtt
    name: SLS Gateway State
    state_topic: "sls_gateway/bridge/state"
    device_class: connectivity
    payload_on: online
    payload_off: offline

  - platform: mqtt
    name: Pinhole Camera Status
    state_topic: "camera/motioneye_cam_status_pinhole"
    device_class: connectivity

  - platform: mqtt
    name: Digma100 Camera Status
    state_topic: "camera/motioneye_cam_status_digma100"
    device_class: connectivity