# ############################################################################
# Hardware sensors Z9PA - NVME
# ############################################################################
- platform: statistics
  entity_id: sensor.hp_400_g6_nvme0_session_write
  name: HP 400 G6 NVME0 Write Change 1h
  state_characteristic: change
  sampling_size: 20000
  max_age:
    minutes: 60

# - platform: statistics
#   entity_id: sensor.nvme1_session_write
#   name: nvme1_write_change_1h
#   state_characteristic: change
#   sampling_size: 20000
#   max_age:
#     minutes: 60

# - platform: statistics
#   entity_id: sensor.nvme2_session_write
#   name: nvme2_write_change_1h
#   state_characteristic: change
#   sampling_size: 20000
#   max_age:
#     minutes: 60

# - platform: statistics
#   entity_id: sensor.nvme3_session_write
#   name: nvme3_write_change_1h
#   state_characteristic: change
#   sampling_size: 20000
#   max_age:
#     minutes: 60

# - platform: statistics
#   entity_id: sensor.boot_session_write
#   name: boot_write_change_1h
#   state_characteristic: change
#   sampling_size: 20000
#   max_age:
#     minutes: 60

# - platform: template
#   sensors:
#     nvme0_write_change_1h:
#       value_template: "{{ state_attr('sensor.nvme0_statistics','change') }}"
#       unit_of_measurement: "Gb"
#     nvme1_write_change_1h:
#       value_template: "{{ state_attr('sensor.nvme1_statistics','change') }}"
#       unit_of_measurement: "Gb"
#     nvme2_write_change_1h:
#       value_template: "{{ state_attr('sensor.nvme2_statistics','change') }}"
#       unit_of_measurement: "Gb"
#     nvme3_write_change_1h:
#       value_template: "{{ state_attr('sensor.nvme3_statistics','change') }}"
#       unit_of_measurement: "Gb"

#     boot_write_change_1h:
#       value_template: "{{ state_attr('sensor.boot_statistics','change') }}"
#       unit_of_measurement: "Gb"

# ############################################################################
# Hardware sensors (MQTT Serv) - MQTT
# ############################################################################
# - platform: mqtt
#   name: MQTT Telemetry Last Update
#   state_topic: "mqtt_serv/last_update"
#   value_template: '{{ value }}'
#   expire_after: 150
#   icon: mdi:calendar

# - platform: mqtt
#   name: "MQTT Uptime"
#   state_topic: "mqtt_serv/system_uptime"
#   value_template: '{{ ((value | float(0))/3600) | round(2, 'common') }}'
#   unit_of_measurement: 'h'
#   expire_after: 150
#   icon: mdi:timer-outline

# - platform: mqtt
#   name: "MQTT CPU Usage"
#   state_topic: "mqtt_serv/cpu_percent"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '%'
#   expire_after: 150
#   icon: mdi:speedometer

# - platform: mqtt
#   name: "MQTT CPU Temp"
#   state_topic: "mqtt_serv/sensors_temperatures/coretemp/0"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '°C'
#   expire_after: 150
#   device_class: temperature

# - platform: mqtt
#   name: "MQTT RAM Usage"
#   state_topic: "mqtt_serv/virtual_memory/percent"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '%'
#   expire_after: 150
#   icon: mdi:memory

# - platform: mqtt
#   name: "MQTT SSD Usage"
#   state_topic: "mqtt_serv/disk_usage/percent/|"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '%'
#   expire_after: 150
#   icon: mdi:chip

# - platform: mqtt
#   name: "MQTT SSD Total LBA Written"
#   state_topic: "mqtt_serv/sda_lba_total"
#   value_template: '{{ ( value | float(0) * 512 / 1024 / 1024 / 1024 / 1024) |round(1, 'common') }}'
#   unit_of_measurement: 'Tb'
#   expire_after: 150
#   icon: mdi:chip

# - platform: mqtt
#   name: "MQTT SSD Life Left"
#   state_topic: "mqtt_serv/sda_life_left"
#   value_template: '{{ value | int(0) }}'
#   unit_of_measurement: '%'
#   expire_after: 150
#   icon: mdi:calendar-heart

# - platform: mqtt
#   name: "MQTT SSD Temp"
#   state_topic: "mqtt_serv/disk_temp/sda"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '°C'
#   expire_after: 150
#   device_class: temperature

# ############################################################################
# Hardware sensors (RPI) - MQTT
# ############################################################################
# - platform: mqtt
#   name: RPI Telemetry Last Update
#   state_topic: "rpi/last_update"
#   value_template: '{{ value }}'
#   expire_after: 150
#   icon: mdi:calendar

# - platform: mqtt
#   name: "RPI Uptime"
#   state_topic: "rpi/system_uptime"
#   value_template: '{{ ((value | float(0))/3600) | round(2, 'common') }}'
#   unit_of_measurement: 'h'
#   expire_after: 150
#   icon: mdi:timer-outline

# - platform: mqtt
#   name: "RPI CPU Usage"
#   state_topic: "rpi/cpu_percent"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '%'
#   expire_after: 150
#   icon: mdi:speedometer

# - platform: mqtt
#   name: "RPI CPU Temp"
#   state_topic: "rpi/sensors_temperatures/cpu_thermal"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '°C'
#   expire_after: 150
#   device_class: temperature

# - platform: mqtt
#   name: "RPI RAM Usage"
#   state_topic: "rpi/virtual_memory/percent"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '%'
#   expire_after: 150
#   icon: mdi:memory

# - platform: mqtt
#   name: "RPI SSD Usage"
#   state_topic: "rpi/disk_usage/percent/|"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '%'
#   expire_after: 150
#   icon: mdi:chip

# - platform: mqtt
#   name: "RPI SSD Total LBA Written"
#   state_topic: "rpi/sda_lba_total"
#   value_template: '{{ ( value | float(0) * 512 / 1024 / 1024 / 1024 / 1024) |round(1, 'common') }}'
#   unit_of_measurement: 'Tb'
#   expire_after: 150
#   icon: mdi:chip

# - platform: mqtt
#   name: "RPI SSD Life Left"
#   state_topic: "rpi/sda_life_left"
#   value_template: '{{ value | int(0) }}'
#   unit_of_measurement: '%'
#   expire_after: 150
#   icon: mdi:calendar-heart

# - platform: mqtt
#   name: "RPI SSD Temp"
#   state_topic: "rpi/disk_temp/sda"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '°C'
#   expire_after: 150
#   device_class: temperature

# ############################################################################
# Hardware sensors (j3455) - MQTT
# ############################################################################
# - platform: mqtt
#   name: j3455 Telemetry Last Update
#   state_topic: "j3455/last_update"
#   value_template: '{{ value }}'
#   expire_after: 150
#   icon: mdi:calendar

# - platform: mqtt
#   name: "j3455 Uptime"
#   state_topic: "j3455/system_uptime"
#   value_template: '{{ ((value | float(0))/3600) | round(2, 'common') }}'
#   unit_of_measurement: 'h'
#   expire_after: 150
#   icon: mdi:timer-outline

# - platform: mqtt
#   name: "j3455 CPU Usage"
#   state_topic: "j3455/cpu_percent"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '%'
#   expire_after: 150
#   icon: mdi:speedometer

# - platform: mqtt
#   name: "j3455 CPU Temp"
#   state_topic: "j3455/sensors_temperatures/coretemp/0"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '°C'
#   expire_after: 150
#   device_class: temperature

# - platform: mqtt
#   name: "j3455 RAM Usage"
#   state_topic: "j3455/virtual_memory/percent"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '%'
#   expire_after: 150
#   icon: mdi:memory

# - platform: mqtt
#   name: "j3455 SSD Usage"
#   state_topic: "j3455/disk_usage/percent/|"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '%'
#   expire_after: 150
#   icon: mdi:chip

# - platform: mqtt
#   name: "j3455 SSD Total LBA Written"
#   state_topic: "j3455/sda_lba_total"
#   value_template: '{{ ( value | float(0) * 512 / 1024 / 1024 / 1024 / 1024) |round(1, 'common') }}'
#   unit_of_measurement: 'Tb'
#   expire_after: 150
#   icon: mdi:chip

# - platform: mqtt
#   name: "j3455 SSD Life Left"
#   state_topic: "j3455/sda_life_left"
#   value_template: '{{ value | int(0) }}'
#   unit_of_measurement: '%'
#   expire_after: 150
#   icon: mdi:calendar-heart

# - platform: mqtt
#   name: "j3455 SSD Temp"
#   state_topic: "j3455/disk_temp/sda"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '°C'
#   expire_after: 150
#   device_class: temperature

# ############################################################################
# Hardware sensors (IPMI) - MQTT
# ###########################################################################
- platform: mqtt
  name: HP 400 G6 Telemetry Last Update
  state_topic: "hp400g6/last_update"
  value_template: "{{ value }}"
  expire_after: 150
  icon: mdi:calendar

- platform: mqtt
  name: HP 400 G6 Uptime
  state_topic: "hp400g6/system_uptime"
  expire_after: 150
  ##force_update: true
  value_template: "{{ ((value | float(0))/3600) | round(2, 'common') }}"
  unit_of_measurement: "h"
  icon: mdi:clock-digital

#####################################################
# Temps
#####################################################
# - platform: mqtt
#   name: "71605 CPU Temp"
#   state_topic: "ubuntu/71605_temp"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '°C'
#   expire_after: 150
#   device_class: temperature
#   force_update: true

# - platform: mqtt
#   name: "71605 AFM Temp"
#   state_topic: "ubuntu/71605_afm_temp"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '°C'
#   expire_after: 150
#   device_class: temperature
#   force_update: true

# - platform: mqtt
#   name: "71605 LD Total"
#   state_topic: "ubuntu/71605_ld_status"
#   value_template: '{{ split("/")[0] | int(0) }}'
#   unit_of_measurement: ea
#   expire_after: 150
#   icon: mdi:server-plus
#   force_update: true

# - platform: mqtt
#   name: "71605 LD Failed"
#   state_topic: "ubuntu/71605_ld_status"
#   value_template: '{{ value.split("/")[1] | int(0) }}'
#   unit_of_measurement: ea
#   expire_after: 150
#   icon: mdi:server-remove
#   force_update: true

# - platform: mqtt
#   name: "71605 LD Degraded"
#   state_topic: "ubuntu/71605_ld_status"
#   value_template: '{{ value.split("/")[2] | int(0) }}'
#   unit_of_measurement: ea
#   expire_after: 150
#   icon: mdi:server-minus
#   force_update: true

# - platform: mqtt
#   name: "IPMI CPU Temp"
#   state_topic: "ubuntu/ipmi/cpu_temp"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "°C"
#   expire_after: 150
#   device_class: temperature

# - platform: mqtt
#   name: "IPMI PCH Temp"
#   state_topic: "ubuntu/ipmi/pch_temp"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "°C"
#   expire_after: 150
#   device_class: temperature

# - platform: mqtt
#   name: "IPMI Peripheral Temp"
#   state_topic: "ubuntu/ipmi/peripheral_temp"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '°C'
#   expire_after: 150
#   device_class: temperature
#   force_update: true

# - platform: mqtt
#   name: "IPMI System Temp"
#   state_topic: "ubuntu/ipmi/system_temp"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "°C"
#   expire_after: 150
#   device_class: temperature

# - platform: mqtt
#   name: "IPMI VcpuVRM Temp"
#   state_topic: "ubuntu/ipmi/vcpuvrm_temp"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '°C'
#   expire_after: 150
#   device_class: temperature
#   force_update: true

# - platform: mqtt
#   name: "IPMI VmemABVRM Temp"
#   state_topic: "ubuntu/ipmi/vmemabvrm_temp"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '°C'
#   expire_after: 150
#   device_class: temperature
#   force_update: true

# - platform: mqtt
#   name: "IPMI VmemCDVRM Temp"
#   state_topic: "ubuntu/ipmi/vmemcdvrm_temp"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '°C'
#   expire_after: 150
#   device_class: temperature
#   force_update: true

# - platform: mqtt
#   name: "IPMI DIMMA1 Temp"
#   state_topic: "ubuntu/ipmi/dimma1_temp"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "°C"
#   expire_after: 150
#   device_class: temperature

# - platform: mqtt
#   name: "IPMI DIMMB1 Temp"
#   state_topic: "ubuntu/ipmi/dimmb1_temp"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "°C"
#   expire_after: 150
#   device_class: temperature

# - platform: mqtt
#   name: "IPMI DIMMC1 Temp"
#   state_topic: "ubuntu/ipmi/dimmc1_temp"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '°C'
#   expire_after: 150
#   device_class: temperature
#   force_update: true

# - platform: mqtt
#   name: "IPMI DIMMD1 Temp"
#   state_topic: "ubuntu/ipmi/dimmd1_temp"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '°C'
#   expire_after: 150
#   device_class: temperature
#   force_update: true

#####################################################
# FANs
#####################################################
# - platform: mqtt
#   name: "IPMI Fan1"
#   state_topic: "ubuntu/ipmi/fan1"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "RPM"
#   expire_after: 150
#   icon: mdi:fan

# - platform: mqtt
#   name: "IPMI Fan2"
#   state_topic: "ubuntu/ipmi/fan2"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "RPM"
#   expire_after: 150
#   icon: mdi:fan

# - platform: mqtt
#   name: "IPMI Fan3"
#   state_topic: "ubuntu/ipmi/fan3"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "RPM"
#   expire_after: 150
#   icon: mdi:fan

# - platform: mqtt
#   name: "IPMI Fan4"
#   state_topic: "ubuntu/ipmi/fan4"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "RPM"
#   expire_after: 150
#   icon: mdi:fan

# - platform: mqtt
#   name: "IPMI Fan5"
#   state_topic: "ubuntu/ipmi/fan5"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "RPM"
#   expire_after: 150
#   icon: mdi:fan

# - platform: mqtt
#   name: "IPMI Fan6"
#   state_topic: "ubuntu/ipmi/fan6"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "RPM"
#   expire_after: 150
#   icon: mdi:fan

# ############################################################################
# Hardware sensors (Ubuntu) - MQTT - System Stats
# ############################################################################

# - platform: mqtt
#   name: "CPU Usage"
#   state_topic: "ubuntu/cpu_percent"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "%"
#   expire_after: 150
#   icon: mdi:speedometer

# - platform: mqtt
#   name: "CPU Package Temp"
#   state_topic: "ubuntu/sensors_temperatures/k10temp"
#   value_template: "{{ value_json[0] | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "°C"
#   expire_after: 150
#   device_class: temperature

# - platform: mqtt
#   name: "CPU Package Temp2"
#   state_topic: "ubuntu/sensors_temperatures/k10temp"
#   value_template: '{{ value.split("[")[1].split(",")[0]|float(0)|round(0, 'common') }}'
#   unit_of_measurement: '°C'
#   expire_after: 150
#   device_class: temperature
#   force_update: true

# - platform: mqtt
#   name: "CPU2 Package Temp"
#   state_topic: "ubuntu/sensors_temperatures/coretemp/7"
#   value_template: '{{ value | float(0) | round(0, 'common') }}'
#   unit_of_measurement: '°C'
#   expire_after: 150
#   device_class: temperature

# ############################################################################
# Hardware sensors (Ubuntu) - MQTT - RAM Usage
# ############################################################################
# - platform: mqtt
#   name: "RAM Usage"
#   state_topic: "ubuntu/virtual_memory/percent"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "%"
#   expire_after: 150
#   icon: mdi:memory

# ############################################################################
# Hardware sensors (Ubuntu) - MQTT - Drives Usage
# ############################################################################
# - platform: mqtt
#   name: "SSD Usage"
#   state_topic: "ubuntu/disk_usage/md0"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "%"
#   expire_after: 150
#   icon: mdi:chip

- platform: mqtt
  name: HP 400 G6 NVME0 Usage
  state_topic: "hp400g6/disk_usage/nvme0"
  value_template: "{{ value | float(0) | round(0, 'common') }}"
  unit_of_measurement: "%"
  expire_after: 150
  icon: mdi:chip

# - platform: mqtt
#   name: "NVME1 Usage"
#   state_topic: "ubuntu/disk_usage/nvme1"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "%"
#   expire_after: 150
#   icon: mdi:chip

# - platform: mqtt
#   name: "NVME2 Usage"
#   state_topic: "ubuntu/disk_usage/nvme2"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "%"
#   expire_after: 150
#   icon: mdi:chip

# - platform: mqtt
#   name: "Temp Usage"
#   state_topic: "ubuntu/disk_usage/temp"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "%"
#   expire_after: 150
#   icon: mdi:harddisk

# - platform: mqtt
#   name: "Media Usage"
#   state_topic: "ubuntu/disk_usage/media"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "%"
#   expire_after: 150
#   icon: mdi:harddisk

# - platform: mqtt
#   name: "Back_2Tb Usage"
#   state_topic: "ubuntu/disk_usage/main"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "%"
#   expire_after: 150
#   icon: mdi:harddisk

# - platform: mqtt
#   name: "320l Usage"
#   state_topic: "ubuntu/disk_usage/320l"
#   value_template: "{{ value | int(0) }}"
#   unit_of_measurement: "%"
#   icon: mdi:nas

# ############################################################################
# Hardware sensors (Ubuntu) - MQTT - Drives Temperature
# ############################################################################
- platform: mqtt
  name: HP 400 G6 NVME0 Temp
  state_topic: "hp400g6/disk_temp/nvme0"
  value_template: "{{ value | float(0) | round(0, 'common') }}"
  unit_of_measurement: "°C"
  expire_after: 150
  device_class: temperature

# - platform: mqtt
#   name: NVME1 Temp
#   state_topic: "ubuntu/disk_temp/nvme1"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "°C"
#   expire_after: 150
#   device_class: temperature

# - platform: mqtt
#   name: NVME2 Temp
#   state_topic: "ubuntu/disk_temp/nvme2"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "°C"
#   expire_after: 150
#   device_class: temperature

# - platform: mqtt
#   name: NVME3 Temp
#   state_topic: "ubuntu/disk_temp/nvme3"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "°C"
#   expire_after: 150
#   device_class: temperature

# - platform: mqtt
#   name: main0 Temp
#   state_topic: "ubuntu/disk_temp/sdc"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "°C"
#   expire_after: 150
#   device_class: temperature

# - platform: mqtt
#   name: main1 Temp
#   state_topic: "ubuntu/disk_temp/sdd"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "°C"
#   expire_after: 150
#   device_class: temperature

# - platform: mqtt
#   name: main2 Temp
#   state_topic: "ubuntu/disk_temp/sde"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "°C"
#   expire_after: 150
#   device_class: temperature

# - platform: mqtt
#   name: Temp Temp
#   state_topic: "ubuntu/disk_temp/temp"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "°C"
#   expire_after: 150
#   device_class: temperature

# - platform: mqtt
#   name: boot Temp
#   state_topic: "ubuntu/disk_temp/boot"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "°C"
#   expire_after: 150
#   device_class: temperature

# - platform: mqtt
#   name: Media Temp
#   state_topic: "ubuntu/disk_temp/media"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: "°C"
#   expire_after: 150
#   device_class: temperature

# ############################################################################
# Hardware sensors (Ubuntu) - MQTT - NVME Size
# ############################################################################
# - platform: mqtt
#   name: NVME0 Size
#   state_topic: "ubuntu/nvme_size/nvme0"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:file-swap-outline

# - platform: mqtt
#   name: NVME1 Size
#   state_topic: "ubuntu/nvme_size/nvme1"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:file-swap-outline

# - platform: mqtt
#   name: NVME2 Size
#   state_topic: "ubuntu/nvme_size/nvme2"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:file-swap-outline

# - platform: mqtt
#   name: NVME3 Size
#   state_topic: "ubuntu/nvme_size/nvme3"
#   value_template: "{{ value | float(0) | round(0, 'common') }}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:file-swap-outline

# ############################################################################
# Hardware sensors (Ubuntu) - MQTT - SSD Drives Smart Data
# ############################################################################
- platform: mqtt
  name: HP 400 G6 NVME0 Tb Written
  state_topic: "hp400g6/ssd_smart/nvme0_lba_written"
  value_template: "{{ ( value | float(0) * 512000 / 1024 / 1024 / 1024 / 1024) |round(1, 'common') }}"
  unit_of_measurement: "Tb"
  expire_after: 150
  icon: mdi:chip

- platform: mqtt
  name: HP 400 G6 NVME0 Power On Hours
  state_topic: "hp400g6/ssd_smart/nvme0_power_on_hours"
  value_template: "{{ value | int(0) }}"
  unit_of_measurement: "h"
  expire_after: 150
  icon: mdi:clock-alert-outline

- platform: mqtt
  name: HP 400 G6 NVME0 Life Left Smart
  state_topic: "hp400g6/ssd_smart/nvme0_life_left"
  value_template: "{{ value | int(0) }}"
  unit_of_measurement: "%"
  expire_after: 150
  icon: mdi:calendar-heart

# - platform: mqtt
#   name: NVME1 Tb Written
#   state_topic: "ubuntu/ssd_smart/nvme1_lba_written"
#   value_template: "{{ ( value | float(0) * 512000 / 1024 / 1024 / 1024 / 1024) |round(1, 'common') }}"
#   unit_of_measurement: "Tb"
#   expire_after: 150
#   icon: mdi:chip

# - platform: mqtt
#   name: NVME1 Power On Hours
#   state_topic: "ubuntu/ssd_smart/nvme1_power_on_hours"
#   value_template: "{{ value | int(0) }}"
#   unit_of_measurement: "h"
#   expire_after: 150
#   icon: mdi:clock-alert-outline

# - platform: mqtt
#   name: NVME1 Life Left Smart
#   state_topic: "ubuntu/ssd_smart/nvme1_life_left"
#   value_template: "{{ value | int(0) }}"
#   unit_of_measurement: "%"
#   expire_after: 150
#   icon: mdi:calendar-heart

# - platform: mqtt
#   name: NVME2 Tb Written
#   state_topic: "ubuntu/ssd_smart/nvme2_lba_written"
#   value_template: "{{ ( value | float(0) * 512000 / 1024 / 1024 / 1024 / 1024) |round(1, 'common') }}"
#   unit_of_measurement: "Tb"
#   expire_after: 150
#   icon: mdi:chip

# - platform: mqtt
#   name: NVME2 Power On Hours
#   state_topic: "ubuntu/ssd_smart/nvme2_power_on_hours"
#   value_template: "{{ value | int(0) }}"
#   unit_of_measurement: "h"
#   expire_after: 150
#   icon: mdi:clock-alert-outline

# - platform: mqtt
#   name: NVME2 Life Left Smart
#   state_topic: "ubuntu/ssd_smart/nvme2_life_left"
#   value_template: "{{ value | int(0) }}"
#   unit_of_measurement: "%"
#   expire_after: 150
#   icon: mdi:calendar-heart

# - platform: mqtt
#   name: NVME3 Tb Written
#   state_topic: "ubuntu/ssd_smart/nvme3_lba_written"
#   value_template: "{{ ( value | float(0) * 512000 / 1024 / 1024 / 1024 / 1024) |round(1, 'common') }}"
#   unit_of_measurement: "Tb"
#   expire_after: 150
#   icon: mdi:chip

# - platform: mqtt
#   name: NVME3 Power On Hours
#   state_topic: "ubuntu/ssd_smart/nvme3_power_on_hours"
#   value_template: "{{ value | int(0) }}"
#   unit_of_measurement: "h"
#   expire_after: 150
#   icon: mdi:clock-alert-outline

# - platform: mqtt
#   name: NVME3 Life Left Smart
#   state_topic: "ubuntu/ssd_smart/nvme3_life_left"
#   value_template: "{{ value | int(0) }}"
#   unit_of_measurement: "%"
#   expire_after: 150
#   icon: mdi:calendar-heart

# - platform: mqtt
#   name: boot Tb Written
#   state_topic: "ubuntu/ssd_smart/boot_gb_total"
#   value_template: "{{ (value| float(0) / 1024) |round(2, 'common') }}"
#   unit_of_measurement: "Tb"
#   expire_after: 150
#   icon: mdi:chip

# - platform: mqtt
#   name: boot Power On Hours
#   state_topic: "ubuntu/ssd_smart/boot_power_on_hours"
#   value_template: "{{ value | int(0) }}"
#   unit_of_measurement: "h"
#   expire_after: 150
#   icon: mdi:clock-alert-outline

# - platform: mqtt
#   name: boot Life Left Smart
#   state_topic: "ubuntu/ssd_smart/boot_life_left"
#   value_template: "{{ value | int(0) }}"
#   unit_of_measurement: "%"
#   expire_after: 150
#   icon: mdi:calendar-heart

# ############################################################################
# Hardware sensors (Ubuntu) - MQTT - Drives Read\Write Stats
# ############################################################################
- platform: mqtt
  name: HP 400 G6 NVME0 Session Write
  state_topic: "hp400g6/disk_stat/nvme0_gb_write"
  value_template: "{{ value| float(0)| round(1, 'common')}}"
  unit_of_measurement: Gb
  expire_after: 150
  icon: mdi:alpha-w-box

- platform: mqtt
  name: HP 400 G6 NVME0 Session Read
  state_topic: "hp400g6/disk_stat/nvme0_gb_read"
  value_template: "{{ value| float(0)| round(1, 'common')}}"
  unit_of_measurement: Gb
  expire_after: 150
  icon: mdi:alpha-r-box

# - platform: mqtt
#   name: NVME1 Session Write
#   state_topic: "ubuntu/disk_stat/nvme1_gb_write"
#   value_template: "{{ value| float(0)| round(1, 'common')}}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:alpha-w-box

# - platform: mqtt
#   name: NVME1 Session Read
#   state_topic: "ubuntu/disk_stat/nvme1_gb_read"
#   value_template: "{{ value| float(0)| round(1, 'common')}}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:alpha-r-box

# - platform: mqtt
#   name: NVME2 Session Write
#   state_topic: "ubuntu/disk_stat/nvme2_gb_write"
#   value_template: "{{ value| float(0)| round(1, 'common')}}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:alpha-w-box

# - platform: mqtt
#   name: NVME2 Session Read
#   state_topic: "ubuntu/disk_stat/nvme2_gb_read"
#   value_template: "{{ value| float(0)| round(1, 'common')}}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:alpha-r-box

# - platform: mqtt
#   name: NVME3 Session Write
#   state_topic: "ubuntu/disk_stat/nvme3_gb_write"
#   value_template: "{{ value| float(0)| round(1, 'common')}}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:alpha-w-box

# - platform: mqtt
#   name: NVME3 Session Read
#   state_topic: "ubuntu/disk_stat/nvme3_gb_read"
#   value_template: "{{ value| float(0)| round(1, 'common')}}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:alpha-r-box

# - platform: mqtt
#   name: boot Session Write
#   state_topic: "ubuntu/disk_stat/boot_gb_write"
#   value_template: "{{ value| float(0) | round(1, 'common') }}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:alpha-w-box

# - platform: mqtt
#   name: boot Session Read
#   state_topic: "ubuntu/disk_stat/boot_gb_read"
#   value_template: "{{ value| float(0) | round(1, 'common') }}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:alpha-r-box

# - platform: mqtt
#   name: md0 Session Write
#   state_topic: "ubuntu/disk_stat/md0_gb_write"
#   value_template: "{{ value| float(0)| round(1, 'common')}}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:alpha-w-box

# - platform: mqtt
#   name: md0 Session Read
#   state_topic: "ubuntu/disk_stat/md0_gb_read"
#   value_template: "{{ value| float(0)| round(1, 'common')}}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:alpha-r-box

# - platform: mqtt
#   name: main Session Write
#   state_topic: "ubuntu/disk_stat/main_gb_write"
#   value_template: "{{ value| float(0)| round(1, 'common')}}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:alpha-w-box

# - platform: mqtt
#   name: main Session Read
#   state_topic: "ubuntu/disk_stat/main_gb_read"
#   value_template: "{{ value| float(0)| round(1, 'common')}}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:alpha-r-box

# - platform: mqtt
#   name: Media Session Write
#   state_topic: "ubuntu/disk_stat/media_gb_write"
#   value_template: "{{ value| float(0)| round(1, 'common')}}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:alpha-w-box

# - platform: mqtt
#   name: Media Session Read
#   state_topic: "ubuntu/disk_stat/media_gb_read"
#   value_template: "{{ value| float(0)| round(1, 'common')}}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:alpha-r-box

# - platform: mqtt
#   name: Temp Session Write
#   state_topic: "ubuntu/disk_stat/temp_gb_write"
#   value_template: "{{ value| float(0)| round(1, 'common')}}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:alpha-w-box

# - platform: mqtt
#   name: Temp Session Read
#   state_topic: "ubuntu/disk_stat/temp_gb_read"
#   value_template: "{{ value| float(0)| round(1, 'common')}}"
#   unit_of_measurement: Gb
#   expire_after: 150
#   icon: mdi:alpha-r-box

# ############################################################################
# Hardware sensors (Ubuntu) - MQTT - MDADM Arrays State
# ############################################################################
# - platform: mqtt
#   name: md0 Status
#   state_topic: "ubuntu/mdstat/md0"
#   value_template: "{{ value }}"
#   #expire_after: 300
#   icon: mdi:harddisk

# - platform: mqtt
#   name: md0_disk1
#   state_topic: "ubuntu/mdstat/md0_disk1"
#   value_template: "{{ value }}"
#   #expire_after: 300
#   icon: mdi:chip

# - platform: mqtt
#   name: md0_disk2
#   state_topic: "ubuntu/mdstat/md0_disk2"
#   value_template: "{{ value }}"
#   #expire_after: 300
#   icon: mdi:chip

# - platform: template
#   sensors:
#     md0_disk1_template:
#       friendly_name: md0 Disk1 dev
#       value_template: "{{ states('sensor.md0_disk1') }}"
#       icon_template: >
#         {%if 'nvme0' in states.sensor.md0_disk1.state %}
#             mdi:numeric-0-box
#         {%elif 'nvme1' in states.sensor.md0_disk1.state %}
#             mdi:numeric-1-box
#         {%elif 'nvme2' in states.sensor.md0_disk1.state %}
#             mdi:numeric-2-box
#         {%elif 'nvme3' in states.sensor.md0_disk1.state %}
#             mdi:numeric-3-box
#         {%elif 'nvme4' in states.sensor.md0_disk1.state %}
#             mdi:numeric-4-box
#         {%else%}
#             mdi:chip
#         {%endif%}

#     md0_disk2_template:
#       friendly_name: md0 Disk2 dev
#       value_template: "{{ states('sensor.md0_disk2') }}"
#       icon_template: >
#         {%if 'nvme0' in states.sensor.md0_disk2.state %}
#             mdi:numeric-0-box
#         {%elif 'nvme1' in states.sensor.md0_disk2.state %}
#             mdi:numeric-1-box
#         {%elif 'nvme2' in states.sensor.md0_disk2.state %}
#             mdi:numeric-2-box
#         {%elif 'nvme3' in states.sensor.md0_disk2.state %}
#             mdi:numeric-3-box
#         {%elif 'nvme4' in states.sensor.md0_disk2.state %}
#             mdi:numeric-4-box
#         {%else%}
#             mdi:chip
#         {%endif%}

# - platform: mqtt
#   name: md0_full
#   state_topic: "ubuntu/mdstat/md0_full"
#   value_template: "{{ value }}"
#   #expire_after: 300
#   icon: mdi:chip

# - platform: mqtt
#   name: md1 Status
#   state_topic: "ubuntu/mdstat/md1"
#   value_template: "{{ value }}"
#   #expire_after: 300
#   icon: mdi:harddisk

# - platform: mqtt
#   name: md1_disk1
#   state_topic: "ubuntu/mdstat/md1_disk1"
#   value_template: "{{ value }}"
#   #expire_after: 300
#   icon: mdi:chip

# - platform: mqtt
#   name: md1_disk2
#   state_topic: "ubuntu/mdstat/md1_disk2"
#   value_template: "{{ value }}"
#   #expire_after: 300
#   icon: mdi:chip

# - platform: mqtt
#   name: md1_disk3
#   state_topic: "ubuntu/mdstat/md1_disk3"
#   value_template: "{{ value }}"
#   #expire_after: 300
#   icon: mdi:chip

# - platform: mqtt
#   name: md1_full
#   state_topic: "ubuntu/mdstat/md1_full"
#   value_template: "{{ value }}"
#   #expire_after: 300
#   icon: mdi:chip

# - platform: mqtt
#   name: Toshiba HDD Power Cycle Count
#   state_topic: "ubuntu/hdd_smart/sdb"
#   value_template: "{{ value_json.ata_smart_attributes.table[9].raw.value | int(0) }}"
#   unit_of_measurement: "ea"
#   icon: mdi:harddisk

# - platform: mqtt
#   name: Toshiba HDD Load Cycle Count
#   state_topic: "ubuntu/hdd_smart/sdb"
#   value_template: "{{ value_json.ata_smart_attributes.table[12].raw.value | int(0) }}"
#   unit_of_measurement: "ea"
#   icon: mdi:harddisk

# - platform: mqtt
#   name: Toshiba HDD UDMA CRC
#   state_topic: "ubuntu/hdd_smart/sdb"
#   value_template: "{{ value_json.ata_smart_attributes.table[17].raw.value | int(0) }}"
#   unit_of_measurement: "ea"
#   icon: mdi:harddisk

# - platform: mqtt
#   name: Toshiba HDD Pending Sectors
#   state_topic: "ubuntu/hdd_smart/sdb"
#   value_template: "{{ value_json.ata_smart_attributes.table[15].raw.value | int(0) }}"
#   unit_of_measurement: "ea"
#   icon: mdi:harddisk

# - platform: mqtt
#   name: Toshiba HDD Reallocated Count
#   state_topic: "ubuntu/hdd_smart/sdb"
#   value_template: "{{ value_json.ata_smart_attributes.table[14].raw.value | int(0) }}"
#   unit_of_measurement: "ea"
#   icon: mdi:harddisk

# - platform: mqtt
#   name: Toshiba HDD Power ON Hours
#   state_topic: "ubuntu/hdd_smart/sdb"
#   value_template: "{{ value_json.ata_smart_attributes.table[7].raw.value | int(0) }}"
#   unit_of_measurement: "h"
#   icon: mdi:harddisk

# ############################################################################
# Hardware sensors (Ubuntu) - PSU HX1200i
# ############################################################################
# - platform: mqtt
#   name: PSU Temperature 0
#   state_topic: "ubuntu/psu_stat/temp0"
#   value_template: '{{ value| float(0)| round(1, 'common')}}'
#   unit_of_measurement: '°C'
#   expire_after: 150
#   device_class: temperature
#   force_update: true

# - platform: mqtt
#   name: PSU Temperature 1
#   state_topic: "ubuntu/psu_stat/temp1"
#   value_template: '{{ value| float(0)| round(1, 'common')}}'
#   unit_of_measurement: '°C'
#   expire_after: 150
#   device_class: temperature
#   force_update: true

# - platform: mqtt
#   name: PSU Total Watts
#   state_topic: "ubuntu/psu_stat/total_watts"
#   value_template: '{{ value| float(0)| round(1, 'common')}}'
#   unit_of_measurement: 'W'
#   expire_after: 150
#   icon: mdi:alpha-w-circle
#   force_update: true

# - platform: mqtt
#   name: PSU 12v Watts
#   state_topic: "ubuntu/psu_stat/12_watts"
#   value_template: '{{ value| float(0)| round(1, 'common')}}'
#   unit_of_measurement: 'W'
#   expire_after: 150
#   icon: mdi:alpha-w-circle
#   force_update: true

# - platform: mqtt
#   name: PSU 5v Watts
#   state_topic: "ubuntu/psu_stat/5_watts"
#   value_template: '{{ value| float(0)| round(1, 'common')}}'
#   unit_of_measurement: 'W'
#   expire_after: 150
#   icon: mdi:alpha-w-circle
#   force_update: true

# - platform: mqtt
#   name: PSU 3v Watts
#   state_topic: "ubuntu/psu_stat/3_watts"
#   value_template: '{{ value| float(0)| round(1, 'common')}}'
#   unit_of_measurement: 'W'
#   expire_after: 150
#   icon: mdi:alpha-w-circle
#   force_update: true

# - platform: template
#   sensors:
#     psu_efficiency:
#       friendly_name: PSU Efficiency
#       value_template: >
#         {% if states('sensor.server_z_hb')|int(-9999) == (-9999) or states('sensor.server_z_hb')|int(-9999) == 0 %}
#         0
#         {%else%}
#         {{ ((states('sensor.psu_total_watts')|float(0) / states('sensor.server_z_hb')|float(0))*100)|round(1, 'common') }}
#         {%endif%}
#       unit_of_measurement: '%'
#       icon_template: mdi:ticket-percent

# ############################################################################
# Hardware sensors - Windows PC
# ############################################################################
##############################################################################################
# BRIX Telemetry
##############################################################################################
# - platform: mqtt
#   name: BRIX Telemetry Last Update
#   state_topic: "brix/last_update"
#   value_template: '{{ value }}'
#   icon: mdi:calendar

# - platform: mqtt
#   name: BRIX Uptime
#   state_topic: "brix/system_uptime"
#   qos: 0
#   expire_after: 150
#   force_update: true
#   #value_template: "{{ value }}"
#   value_template: "{{ ( value | float(0) ) |round(2, 'common') }}"
#   unit_of_measurement: 'h'
#   icon: mdi:clock-digital

# - platform: mqtt
#   name: BRIX SSD Temperature
#   state_topic: "brix/telemetry"
#   qos: 0
#   expire_after: 150
#   force_update: true
#   value_template: "{{ value_json.Children[0].Children[3].Children[0].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: '°C'
#   device_class: temperature

# - platform: mqtt
#   name: BRIX SSD Usage
#   state_topic: "brix/telemetry"
#   qos: 0
#   expire_after: 150
#   force_update: true
#   value_template: "{{ value_json.Children[0].Children[3].Children[1].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: '%'
#   icon: mdi:chip

# - platform: mqtt
#   name: BRIX 860evo Total Gb Written
#   state_topic: "brix/smart/860evo_250gb_lba_written"
#   qos: 0
#   expire_after: 150
#   force_update: true
#   value_template: "{{ ( value | float(0) * 512 / 1024 / 1024 / 1024 ) |round(1, 'common') }}"
#   unit_of_measurement: 'Gb'
#   icon: mdi:chip

# - platform: mqtt
#   name: BRIX 860evo Power On Hours
#   state_topic: "brix/smart/860evo_250gb_power_on_hours"
#   qos: 0
#   expire_after: 150
#   force_update: true
#   value_template: "{{ ( value | int(0)) }}"
#   unit_of_measurement: 'h'
#   icon: mdi:timer-outline

# - platform: template
#   sensors:
#     brix_860evo_gb_per_hour:
#       friendly_name: BRIX 860evo gb per hour
#       value_template: >
#         {%if states('sensor.brix_860evo_power_on_hours')|float(-9999) == -9999%}
#         0
#         {%else%}
#         {{(states('sensor.brix_860evo_total_gb_written')|float(0) / states('sensor.brix_860evo_power_on_hours')|float(0))|round(2, 'common')}}
#         {%endif%}
#       icon_template: mdi:chip
#       unit_of_measurement: 'Gb\h'
#     brix_860evo_calc_life_left:
#       friendly_name: BRIX 860evo Calculated Life Left
#       unit_of_measurement: years
#       icon_template: mdi:calendar-clock
#       value_template: >-
#         {%set tbw = 150*1024%}
#         {%set per_day = states('sensor.brix_860evo_gb_per_hour')|float(0)*24%}
#         {%set total = states('sensor.brix_860evo_total_gb_written')|float(0)%}
#         {%if per_day == 0 %}
#         {{ ((tbw-total)/1/365)|round(2, 'common')  }}
#         {%else%}
#         {{ ((tbw-total)/per_day/365)|round(2, 'common')  }}
#         {%endif%}
# - platform: mqtt
#   name: BRIX CPU Temperature
#   state_topic: "brix/telemetry"
#   qos: 0
#   expire_after: 150
#   force_update: true
#   value_template: "{{ value_json.Children[0].Children[0].Children[0].Children[1].Children[1].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: '°C'
#   device_class: temperature

# - platform: mqtt
#   name: BRIX CPU Fan
#   state_topic: "brix/telemetry"
#   qos: 0
#   expire_after: 150
#   force_update: true
#   value_template: "{{ value_json.Children[0].Children[0].Children[0].Children[2].Children[0].Value.split(' ')[0] | int(0) }}"
#   unit_of_measurement: 'rpm'
#   icon: mdi:fan

# - platform: mqtt
#   name: BRIX AUX Temperature
#   state_topic: "brix/telemetry"
#   qos: 0
#   expire_after: 150
#   force_update: true
#   value_template: "{{ value_json.Children[0].Children[0].Children[0].Children[1].Children[2].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: '°C'
#   device_class: temperature

# - platform: mqtt
#   name: BRIX Memory Usage
#   state_topic: "brix/telemetry"
#   qos: 0
#   expire_after: 150
#   force_update: true
#   value_template: "{{ value_json.Children[0].Children[2].Children[0].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: '%'
#   icon: mdi:memory

# - platform: mqtt
#   name: BRIX CPU Load
#   state_topic: "brix/telemetry"
#   qos: 0
#   expire_after: 150
#   force_update: true
#   value_template: "{{ value_json.Children[0].Children[1].Children[2].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: '%'
#   icon: mdi:speedometer

##############################################################################################
# u430p Telemetry
##############################################################################################
# - platform: mqtt
#   name: u430p Telemetry Last Update
#   state_topic: "u430p/last_update"
#   value_template: '{{ value }}'
#   icon: mdi:calendar

# - platform: mqtt
#   name: u430p Last Boot
#   state_topic: "u430p/last_boot"
#   expire_after: 150
#   value_template: "{{ value }}"
#   #value_template: "{{ ( value | float(0) ) |round(2, 'common') }}"
#   #unit_of_measurement: 'h'
#   icon: mdi:calendar

# - platform: template
#   sensors:
#     u430p_uptime:
#       friendly_name: u430p Uptime
#       value_template: >
#         {%if as_timestamp(strptime(states('sensor.u430p_last_boot'),'%d.%m.%Y %H:%M:%S'))|int(-9999) == (-9999) %}
#         0
#         {%else%}
#         {{((as_timestamp(now())-as_timestamp(strptime(states('sensor.u430p_last_boot'),'%d.%m.%Y %H:%M:%S')))/3600) | round(2, 'common')}}
#         {%endif%}
#       icon_template: mdi:clock-digital
#       unit_of_measurement: 'h'

# - platform: mqtt
#   name: u430p SSD Temperature
#   state_topic: "u430p/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[4].Children[0].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: '°C'
#   device_class: temperature

# - platform: mqtt
#   name: u430p SSD Usage
#   state_topic: "u430p/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[4].Children[1].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: '%'
#   icon: mdi:chip

# - platform: mqtt
#   name: u430p 840pro Total Gb Written
#   state_topic: "u430p/smart/840pro_512gb_lba_written"
#   expire_after: 150
#   value_template: "{{ ( value | float(0) * 512 / 1024 / 1024 / 1024 ) |round(1, 'common') }}"
#   unit_of_measurement: 'Gb'
#   icon: mdi:chip

# - platform: mqtt
#   name: u430p 840pro Power On Hours
#   state_topic: "u430p/smart/840pro_512gb_power_on_hours"
#   expire_after: 150
#   value_template: "{{ ( value | int(0)) }}"
#   unit_of_measurement: 'h'
#   icon: mdi:timer-outline

# - platform: template
#   sensors:
#     u430p_840pro_gb_per_hour:
#       friendly_name: u430p 840pro gb per hour
#       value_template: >
#         {%if states('sensor.u430p_840pro_power_on_hours')|float(-9999) == -9999%}
#         0
#         {%else%}
#         {{(states('sensor.u430p_840pro_total_gb_written')|float(0) / states('sensor.u430p_840pro_power_on_hours')|float(0))|round(2, 'common')}}
#         {%endif%}
#       icon_template: mdi:chip
#       unit_of_measurement: 'Gb\h'
#     u430p_840pro_calc_life_left:
#       friendly_name: u430p 840pro Calculated Life Left
#       unit_of_measurement: years
#       icon_template: mdi:calendar-clock
#       value_template: >-
#         {%set tbw = 500*1024%}
#         {%set per_day = states('sensor.u430p_840pro_gb_per_hour')|float(0)*24%}
#         {%set total = states('sensor.u430p_840pro_total_gb_written')|float(0)%}
#         {%if per_day == 0 %}
#         {{ ((tbw-total)/1/365)|round(2, 'common')  }}
#         {%else%}
#         {{ ((tbw-total)/per_day/365)|round(2, 'common')  }}
#         {%endif%}
# - platform: mqtt
#   name: u430p M2 Usage
#   state_topic: "u430p/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[5].Children[0].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: '%'
#   icon: mdi:chip

# - platform: mqtt
#   name: u430p CPU Temperature
#   state_topic: "u430p/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[1].Children[1].Children[2].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: '°C'
#   device_class: temperature

# - platform: mqtt
#   name: u430p SC2 M2 Total Gb Written
#   state_topic: "u430p/smart/sc2_m2_120gb_mb_written"
#   expire_after: 150
#   value_template: "{{ ( value | float(0) / 1024 ) |round(1, 'common') }}"
#   unit_of_measurement: 'Gb'
#   icon: mdi:chip

# - platform: mqtt
#   name: u430p SC2 M2 Power On Hours
#   state_topic: "u430p/smart/sc2_m2_120gb_power_on_hours"
#   expire_after: 150
#   value_template: "{{ ( value | int(0)) }}"
#   unit_of_measurement: 'h'
#   icon: mdi:timer-outline

# - platform: template
#   sensors:
#     u430p_sc2_m2_gb_per_hour:
#       friendly_name: u430p SC2 M2 gb per hour
#       value_template: >
#         {%if states('sensor.u430p_840pro_power_on_hours')|float(-9999) == -9999%}
#         0
#         {%else%}
#         {{(states('sensor.u430p_840pro_total_gb_written')|float(0) / states('sensor.u430p_840pro_power_on_hours')|float(0))|round(2, 'common')}}
#         {%endif%}
#       icon_template: mdi:chip
#       unit_of_measurement: 'Gb\h'
#     u430p_sc2_m2_calc_life_left:
#       friendly_name: u430p SC2 M2 Calculated Life Left
#       unit_of_measurement: years
#       icon_template: mdi:calendar-clock
#       value_template: >-
#         {%set tbw =  40*1024%}
#         {%set per_day = states('sensor.u430p_sc2_m2_gb_per_hour')|float(0)*24%}
#         {%set total = states('sensor.u430p_sc2_m2_total_gb_written')|float(0)%}
#         {%if per_day == 0 %}
#         {{ ((tbw-total)/1/365)|round(2, 'common')  }}
#         {%else%}
#         {{ ((tbw-total)/per_day/365)|round(2, 'common')  }}
#         {%endif%}
# - platform: mqtt
#   name: u430p Memory Usage
#   state_topic: "u430p/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[2].Children[0].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: '%'
#   icon: mdi:memory

# - platform: mqtt
#   name: u430p CPU Load
#   state_topic: "u430p/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[1].Children[2].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: '%'
#   icon: mdi:speedometer

##############################################################################################
# R418 Telemetry
##############################################################################################
# - platform: mqtt
#   name: r418 Telemetry Last Update
#   state_topic: "r418/last_update"
#   value_template: '{{ value }}'
#   icon: mdi:calendar

# - platform: mqtt
#   name: r418 Last Boot
#   state_topic: "r418/last_boot"
#   qos: 0
#   expire_after: 150
#   force_update: true
#   value_template: "{{ value }}"
#   icon: mdi:calendar

# - platform: template
#   sensors:
#     r418_uptime:
#       friendly_name: r418 Uptime
#       value_template: >
#         {%if states('sensor.r418_cpu_load')|int(-9999) == -9999%}
#         unknown
#         {%else%}
#         {{((as_timestamp(now())-as_timestamp(strptime(states('sensor.r418_last_boot'),'%d.%m.%Y %H:%M:%S')))/3600) | round(2, 'common')}}
#         {%endif%}

#       icon_template: mdi:clock-digital
#       unit_of_measurement: 'h'

# - platform: mqtt
#   name: r418 SSD Usage
#   state_topic: "r418/telemetry"
#   qos: 0
#   expire_after: 150
#   force_update: true
#   value_template: "{{ value_json.Children[0].Children[4].Children[0].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: '%'
#   icon: mdi:chip

# - platform: mqtt
#   name: r418 SATA SSD Total Gb Written
#   state_topic: "r418/smart/sata_ssd_128gb_lba_written"
#   qos: 0
#   expire_after: 150
#   force_update: true
#   value_template: "{{ ( value | float(0) * 512 / 1024 / 1024 / 1024 ) |round(1, 'common') }}"
#   unit_of_measurement: 'Gb'
#   icon: mdi:chip

# - platform: mqtt
#   name: r418 SATA SSD Power On Hours
#   state_topic: "r418/smart/sata_ssd_128gb_power_on_hours"
#   qos: 0
#   expire_after: 150
#   force_update: true
#   value_template: "{{ ( value | int(0)) }}"
#   unit_of_measurement: 'h'
#   icon: mdi:timer-outline

# - platform: template
#   sensors:
#     r418_sata_ssd_gb_per_hour:
#       friendly_name: r418 SATA SSD gb per hour
#       value_template: >
#         {%if states('sensor.r418_sata_ssd_power_on_hours')|float(-9999) == -9999%}
#         0
#         {%else%}
#         {{(states('sensor.r418_sata_ssd_total_gb_written')|float(0) / states('sensor.r418_sata_ssd_power_on_hours')|float(0))|round(2, 'common')}}
#         {%endif%}
#       icon_template: mdi:chip
#       unit_of_measurement: 'Gb\h'
#     r418_sata_ssd_calc_life_left:
#       friendly_name: r418 SATA SSD Calculated Life Left
#       unit_of_measurement: years
#       icon_template: mdi:calendar-clock
#       value_template: >-
#         {%set tbw =  40*1024%}
#         {%set per_day = states('sensor.r418_sata_ssd_gb_per_hour')|float(0)*24%}
#         {%set total = states('sensor.r418_sata_ssd_total_gb_written')|float(0)%}
#         {%if states('sensor.r418_sata_ssd_power_on_hours')|float(-9999) == -9999%}
#         unknown
#         {%else%}
#           {%if per_day == 0 %}
#           {{ ((tbw-total)/1/365)|round(2, 'common')  }}
#           {%else%}
#           {{ ((tbw-total)/per_day/365)|round(2, 'common')  }}
#           {%endif%}
#         {%endif%}
# - platform: mqtt
#   name: r418 CPU Temperature
#   state_topic: "r418/telemetry"
#   qos: 0
#   expire_after: 150
#   force_update: true
#   value_template: >
#     {% set cores_temp = value_json.Children[0].Children[1].Children[1].Children[0].Value.split(' ')[0].replace(',','.') | int(0),
#                         value_json.Children[0].Children[1].Children[1].Children[1].Value.split(' ')[0].replace(',','.') | int(0) %}
#     {{ cores_temp|max }}
#   unit_of_measurement: '°C'
#   device_class: temperature

# - platform: mqtt
#   name: r418 Memory Usage
#   state_topic: "r418/telemetry"
#   qos: 0
#   expire_after: 150
#   force_update: true
#   value_template: "{{ value_json.Children[0].Children[2].Children[0].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: '%'
#   icon: mdi:memory

# - platform: mqtt
#   name: r418 CPU Load
#   state_topic: "r418/telemetry"
#   qos: 0
#   expire_after: 150
#   force_update: true
#   value_template: "{{ value_json.Children[0].Children[1].Children[2].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: '%'
#   icon: mdi:speedometer

##############################################################################################
# 2620 Vova Telemetry
##############################################################################################
# - platform: mqtt
#   name: 2620v Telemetry Last Update
#   state_topic: "2620v/last_update"
#   value_template: "{{ value }}"
#   icon: mdi:calendar

# - platform: mqtt
#   name: 2620v Uptime
#   state_topic: "2620v/system_uptime"
#   expire_after: 150
#   value_template: "{{ ( value | float(0) ) |round(2, 'common') }}"
#   unit_of_measurement: "h"
#   icon: mdi:clock-digital

# - platform: mqtt
#   name: 2620v SSD Temperature
#   state_topic: "2620v/smart/ssd"
#   expire_after: 150
#   value_template: "{{ value_json.temperature.current | int(0) }}"
#   unit_of_measurement: "°C"
#   device_class: temperature

# - platform: mqtt
#   name: 2620v HDD Temperature
#   state_topic: "2620v/smart/hdd"
#   expire_after: 150
#   value_template: "{{ value_json.temperature.current | int(0) }}"
#   unit_of_measurement: "°C"
#   device_class: temperature

# - platform: mqtt
#   name: 2620v SSD Usage
#   state_topic: "2620v/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[5].Children[0].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: "%"
#   icon: mdi:chip

# - platform: mqtt
#   name: 2620v 8200pro Total Gb Written
#   state_topic: "2620v/smart/ssd"
#   expire_after: 150
#   value_template: "{{ ( value_json.nvme_smart_health_information_log.data_units_written | float(0) * 512 / 1024 / 1024 ) |round(1, 'common') }}"
#   unit_of_measurement: "Gb"
#   icon: mdi:chip

# - platform: mqtt
#   name: 2620v 8200pro Power On Hours
#   state_topic: "2620v/smart/ssd"
#   expire_after: 150
#   value_template: "{{ ( value_json.nvme_smart_health_information_log.power_on_hours | int(0)) }}"
#   unit_of_measurement: "h"
#   icon: mdi:timer-outline

# - platform: mqtt
#   name: 2620v CPU Temperature
#   state_topic: "2620v/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[1].Children[1].Children[4].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: "°C"
#   device_class: temperature

# - platform: mqtt
#   name: 2620v Memory Usage
#   state_topic: "2620v/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[2].Children[0].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: "%"
#   icon: mdi:memory

# - platform: mqtt
#   name: 2620v CPU Load
#   state_topic: "2620v/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[1].Children[2].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: "%"
#   icon: mdi:speedometer

# - platform: mqtt
#   name: 2620v CPU Fan
#   state_topic: "2620v/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[0].Children[0].Children[2].Children[0].Value.split(' ')[0] | int(0) }}"
#   unit_of_measurement: "rpm"
#   icon: mdi:fan

# - platform: mqtt
#   name: 2620v Case Fan
#   state_topic: "2620v/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[0].Children[0].Children[2].Children[0].Value.split(' ')[0] | int(0) }}"
#   unit_of_measurement: "rpm"
#   icon: mdi:fan

# - platform: mqtt
#   name: 2620v RX580 GPU Temperature
#   state_topic: "2620v/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[3].Children[2].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: "°C"
#   device_class: temperature

# - platform: mqtt
#   name: 2620v RX580 GPU Load
#   state_topic: "2620v/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[3].Children[3].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: "%"
#   icon: mdi:speedometer

# - platform: mqtt
#   name: 2620v RX580 Fan1
#   state_topic: "2620v/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[3].Children[4].Children[0].Value.split(' ')[0] | int(0) }}"
#   unit_of_measurement: "rpm"
#   icon: mdi:fan

# - platform: mqtt
#   name: 2620v RX580 Fan2
#   state_topic: "2620v/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[3].Children[5].Children[0].Value.split(' ')[0] | int(0) }}"
#   unit_of_measurement: "rpm"
#   icon: mdi:fan

##############################################################################################
# Dell m6800 Telemetry
##############################################################################################
# - platform: mqtt
#   name: m6800 Telemetry Last Update
#   state_topic: "m6800/last_update"
#   value_template: "{{ value }}"
#   icon: mdi:calendar

# - platform: mqtt
#   name: m6800 Uptime
#   state_topic: "m6800/system_uptime"
#   expire_after: 150
#   value_template: "{{ ( value | float(0) ) |round(2, 'common') }}"
#   unit_of_measurement: "h"
#   icon: mdi:clock-digital

# - platform: mqtt
#   name: m6800 Drive E Temperature
#   state_topic: "m6800/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[6].Children[0].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: "°C"
#   device_class: temperature

# - platform: mqtt
#   name: m6800 860pro Total Gb Written
#   state_topic: "m6800/smart/860pro_512gb_lba_written"
#   expire_after: 150
#   value_template: "{{ ( value | float(0) * 512 / 1024 / 1024 / 1024 ) |round(1, 'common') }}"
#   unit_of_measurement: "Gb"
#   icon: mdi:chip

# - platform: mqtt
#   name: m6800 860pro Power On Hours
#   state_topic: "m6800/smart/860pro_512gb_power_on_hours"
#   expire_after: 150
#   value_template: "{{ ( value | int(0)) }}"
#   unit_of_measurement: "h"
#   icon: mdi:timer-outline

# - platform: mqtt
#   name: m6800 860pro Life Left Smart
#   state_topic: "m6800/smart/860pro_512gb_wear_level"
#   value_template: "{{ value | int(0) }}"
#   unit_of_measurement: "%"
#   expire_after: 150
#   icon: mdi:calendar-heart

# - platform: mqtt
#   name: m6800 840evo Total Gb Written
#   state_topic: "m6800/smart/840evo_500gb_lba_written"
#   expire_after: 150
#   value_template: "{{ ( value | float(0) * 512 / 1024 / 1024 / 1024 ) |round(1, 'common') }}"
#   unit_of_measurement: "Gb"
#   icon: mdi:chip

# - platform: mqtt
#   name: m6800 840evo Power On Hours
#   state_topic: "m6800/smart/840evo_500gb_power_on_hours"
#   expire_after: 150
#   value_template: "{{ ( value | int(0)) }}"
#   unit_of_measurement: "h"
#   icon: mdi:timer-outline

# - platform: mqtt
#   name: m6800 840evo Life Left Smart
#   state_topic: "m6800/smart/840evo_500gb_wear_level"
#   value_template: "{{ value | int(0) }}"
#   unit_of_measurement: "%"
#   expire_after: 150
#   icon: mdi:calendar-heart

# - platform: mqtt
#   name: m6800 Drive E Usage
#   state_topic: "m6800/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[6].Children[1].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: "%"
#   icon: mdi:harddisk

# - platform: mqtt
#   name: m6800 Drive C Temperature
#   state_topic: "m6800/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[7].Children[0].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: "°C"
#   device_class: temperature

# - platform: mqtt
#   name: m6800 Drive C Usage
#   state_topic: "m6800/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[7].Children[1].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: "%"
#   icon: mdi:chip

# - platform: mqtt
#   name: m6800 Drive D Temperature
#   state_topic: "m6800/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[4].Children[0].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: "°C"
#   device_class: temperature

# - platform: mqtt
#   name: m6800 Drive D Usage
#   state_topic: "m6800/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[4].Children[1].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: "%"
#   icon: mdi:harddisk

# - platform: mqtt
#   name: m6800 Drive F Temperature
#   state_topic: "m6800/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[5].Children[0].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: "°C"
#   device_class: temperature

# - platform: mqtt
#   name: m6800 Drive F Usage
#   state_topic: "m6800/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[5].Children[1].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: "%"
#   icon: mdi:chip

# - platform: mqtt
#   name: m6800 CPU Temperature
#   state_topic: "m6800/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[1].Children[1].Children[4].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: "°C"
#   device_class: temperature

# - platform: mqtt
#   name: m6800 Memory Usage
#   state_topic: "m6800/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[2].Children[0].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: "%"
#   icon: mdi:memory

# - platform: mqtt
#   name: m6800 CPU Load
#   state_topic: "m6800/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[1].Children[2].Children[0].Value.split(' ')[0].replace(',','.') | int(0) }}"
#   unit_of_measurement: "%"
#   icon: mdi:speedometer

##############################################################################################
# i5 Sasha Telemetry
##############################################################################################
# - platform: mqtt
#   name: i5 Telemetry Last Update
#   state_topic: "i5/last_update"
#   value_template: "{{ value }}"
#   icon: mdi:calendar

# - platform: mqtt
#   name: i5 Uptime
#   state_topic: "i5/system_uptime"
#   expire_after: 150
#   value_template: "{{ ( value | float(0) ) |round(2, 'common') }}"
#   unit_of_measurement: "h"
#   icon: mdi:clock-digital

# - platform: mqtt
#   name: i5 SSD Temperature
#   state_topic: "i5/smart/840pro"
#   expire_after: 150
#   value_template: "{{ value_json.temperature.current | int(0) }}"
#   unit_of_measurement: "°C"
#   device_class: temperature

# - platform: mqtt
#   name: i5 840pro Total Gb Written
#   state_topic: "i5/smart/840pro_256gb_lba_written"
#   expire_after: 150
#   value_template: "{{ ( value | float(0) * 512 / 1024 / 1024 / 1024 ) |round(1, 'common') }}"
#   unit_of_measurement: "Gb"
#   icon: mdi:chip

# - platform: mqtt
#   name: i5 840pro Power On Hours
#   state_topic: "i5/smart/840pro_256gb_power_on_hours"
#   expire_after: 150
#   value_template: "{{ ( value | int(0)) }}"
#   unit_of_measurement: "h"
#   icon: mdi:timer-outline

# - platform: mqtt
#   name: i5 840pro Life Left Smart
#   state_topic: "i5/smart/840pro_256gb_wear_leveling_count"
#   value_template: "{{ value | int(0) }}"
#   unit_of_measurement: "%"
#   expire_after: 150
#   icon: mdi:calendar-heart

# - platform: mqtt
#   name: i5 SSD Usage
#   state_topic: "i5/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[3].Children[1].Children[0].Value.split(' ')[0] | int(0) }}"
#   unit_of_measurement: "%"
#   icon: mdi:chip

# - platform: mqtt
#   name: i5 CPU Temperature
#   state_topic: "i5/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[1].Children[1].Children[4].Value.split(' ')[0] | int(0) }}"
#   unit_of_measurement: "°C"
#   device_class: temperature

# - platform: mqtt
#   name: i5 Memory Usage
#   state_topic: "i5/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[2].Children[0].Children[0].Value.split(' ')[0] | int(0) }}"
#   unit_of_measurement: "%"
#   icon: mdi:memory

# - platform: mqtt
#   name: i5 CPU Load
#   state_topic: "i5/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[1].Children[2].Children[0].Value.split(' ')[0] | int(0) }}"
#   unit_of_measurement: "%"
#   icon: mdi:speedometer

# - platform: mqtt
#   name: i5 CPU Fan
#   state_topic: "i5/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[0].Children[0].Children[2].Children[0].Value.split(' ')[0] | int(0) }}"
#   unit_of_measurement: "rpm"
#   icon: mdi:fan

# - platform: mqtt
#   name: i5 Case Fan
#   state_topic: "i5/telemetry"
#   expire_after: 150
#   value_template: "{{ value_json.Children[0].Children[0].Children[0].Children[2].Children[1].Value.split(' ')[0] | int(0) }}"
#   unit_of_measurement: "rpm"
#   icon: mdi:fan
